(()=>{"use strict";var e,o={4064:(e,o,s)=>{var n=s(4848),t=s(6540),r=s(5338),a=s(181),i=s(1083);let c=!1,l=!1,d=!1;const u=()=>{setTimeout((()=>{c=!1,l=!1,d=!1}),3e5)},h=()=>{i.A.interceptors.response.use((e=>e),(e=>{var o,s,n;const t=null===(o=e.response)||void 0===o?void 0:o.status;return 401===t?(c||(console.log("Unauthorized request - Session expired or invalid."),c=!0),u(),Promise.resolve({data:{message:"Unauthorized. Please log in again."},status:401,statusText:"Unauthorized",headers:null===(s=e.response)||void 0===s?void 0:s.headers,config:e.config})):500===t?(d||(console.log("Internal server error occurred."),d=!0),u(),Promise.resolve({data:{message:"Server error. Please try again later."},status:500,statusText:"Internal Server Error",headers:null===(n=e.response)||void 0===n?void 0:n.headers,config:e.config})):Promise.reject(e)})),i.A.interceptors.request.use((e=>e),(e=>Promise.reject(e)))};var m=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};i.A.defaults.baseURL="http://localhost:3000";let p;h();var v=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};const g=({element:e,requiredRole:o})=>{const[s,r]=(0,t.useState)(null),[c,l]=(0,t.useState)(null),[d,u]=(0,t.useState)(!0),[h,g]=(0,t.useState)(null),f=(0,a.zy)(),x=()=>v(void 0,void 0,void 0,(function*(){try{const e=yield m(void 0,void 0,void 0,(function*(){return clearTimeout(p),new Promise(((e,o)=>{p=setTimeout((()=>m(void 0,void 0,void 0,(function*(){var o,s,n,t;try{const s=yield i.A.get("/api/login",{withCredentials:!0,headers:{Authorization:"Bearer EwaM9XH+LDjzTbqCidsnMpxZZJ4h8p1aDosyReqTI2LzV+TityAx4PM2oyuk4DMa"}});!0===(null===(o=null==s?void 0:s.data)||void 0===o?void 0:o.isLoggedOutOrNeverLoggedIn)?(console.log("No session found. Redirecting to login page."),e({message:"No session found. User is not logged in.",isLoggedOutOrNeverLoggedIn:!0,isLoggedIn:!1})):(console.log("Session is valid:",s.data),e(s.data||{message:"Unknown error occurred during session validation."}))}catch(o){401===(null===(s=null==o?void 0:o.response)||void 0===s?void 0:s.status)&&(console.log("Unauthorized. Redirecting to login page."),e({message:"Unauthorized. Please log in again.",isLoggedIn:!1})),302!==(null===(n=null==o?void 0:o.response)||void 0===n?void 0:n.status)&&301!==(null===(t=null==o?void 0:o.response)||void 0===t?void 0:t.status)||(console.log("Redirecting to login page."),e({message:"Session expired or invalid. Redirecting to login.",isLoggedIn:!1})),console.error("Error during session validation:",o),e({message:"Session validation failed. Please try again.",isLoggedIn:!1})}}))),300)}))}));(null==e?void 0:e.isLoggedIn)?(r(!0),l(e.role===o||"admin"===e.role)):(r(!1),l(!1))}catch(e){console.error("Error during session validation:",e),r(!1),g("Failed to validate session. Please try again later.")}finally{u(!1)}}));return(0,t.useEffect)((()=>{x()}),[o]),d?(0,n.jsx)("div",{children:"Loading..."}):h?(0,n.jsx)(a.C5,{to:"/login",replace:!0}):s&&"/login"===f.pathname?(0,n.jsx)(a.C5,{to:"/",replace:!0}):!1===s?(0,n.jsx)(a.C5,{to:"/login",replace:!0}):!1===c?(0,n.jsx)(a.C5,{to:"/forbidden",replace:!0}):e};var f=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};i.A.defaults.withCredentials=!0,i.A.defaults.baseURL="http://localhost:3000";const x="EwaM9XH+LDjzTbqCidsnMpxZZJ4h8p1aDosyReqTI2LzV+TityAx4PM2oyuk4DMa",y=()=>localStorage.getItem("Rocky-Todos-session-csrfToken"),j=y(),w=()=>f(void 0,void 0,void 0,(function*(){try{const e=yield i.A.get("/api/admin/colors",{withCredentials:!0,headers:{Authorization:`Bearer ${x}`,"X-CSRF-Token":j}});return console.log("Response from getColors:",e),e.data}catch(e){throw console.error("Error fetching colors:",e),e}}));var b=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};const N=(0,t.createContext)(null),C=({children:e})=>{const[o,s]=(0,t.useState)(null),[r,a]=(0,t.useState)(!0),c=()=>b(void 0,void 0,void 0,(function*(){try{const e=yield w();s(e),l(e)}catch(e){console.error("Error fetching colors:",e)}finally{a(!1)}})),l=e=>{Object.keys(e).forEach((o=>{const s=o;document.documentElement.style.setProperty(`--${s}`,e[s])}))};(0,t.useEffect)((()=>{c()}),[]);return r?(0,n.jsx)("div",{children:"Loading colors..."}):(0,n.jsx)(N.Provider,{value:{colors:o,handleSaveColor:(e,o)=>b(void 0,void 0,void 0,(function*(){try{yield((e,o)=>f(void 0,void 0,void 0,(function*(){try{const s=y();if(!s)throw new Error("CSRF token is missing");const n=yield i.A.post("/api/admin/colors",{name:e,value:o},{withCredentials:!0,headers:{Authorization:`Bearer ${x}`,"X-CSRF-Token":s}});return console.log("Response from updateColor:",n),n.data}catch(e){throw console.error("Error updating color:",e),e}})))(e,o),s((s=>s?Object.assign(Object.assign({},s),{[e]:o}):s)),document.documentElement.style.setProperty(`--${e}`,o)}catch(e){console.error("Error saving color:",e)}})),handleResetColors:()=>b(void 0,void 0,void 0,(function*(){try{yield f(void 0,void 0,void 0,(function*(){try{const e=y();if(!e)throw new Error("CSRF token is missing");const o=yield i.A.post("/api/admin/colors/reset",{withCredentials:!0,headers:{Authorization:`Bearer ${x}`,"X-CSRF-Token":e}});return console.log("Response from resetColors:",o),o.data}catch(e){throw console.error("Error resetting colors:",e),e}})),c()}catch(e){console.error("Error resetting colors:",e)}}))},children:e})};var S=s(8027);const R=()=>{const[e,o]=(0,t.useState)({node:!1,nginx:!1,redis:!1,mysql:!1}),[s,r]=(0,t.useState)({appUrl:"",redis:{host:"",port:"",password:""},dbType:"mysql",mysqlConfig:{host:"",port:"",username:"",password:""}}),[a,i]=(0,t.useState)(1);(0,t.useEffect)((()=>{const e=setTimeout((()=>{o({node:!0,nginx:!0,redis:!0,mysql:!0})}),1e3);return()=>clearTimeout(e)}),[]);return(0,n.jsx)("div",{className:"install-wrapper",children:(0,n.jsx)("div",{className:"installer-bg",children:(0,n.jsxs)("div",{className:"check-requirements-container",children:[(0,n.jsx)("div",{className:"progress-bar-container",children:[1,2,3,4].map((e=>(0,n.jsx)("div",{className:"progress-bar-wrapper "+(a>=e?"active":"pending"),children:(0,n.jsxs)("div",{className:"progress-bar",children:[(0,n.jsx)("div",{className:"progress "+(a>=e?"active":"pending")}),(0,n.jsx)("span",{className:"step-number",children:e})]})},e)))}),(0,n.jsxs)("ul",{className:"check-requirements-list",children:[(0,n.jsxs)("li",{className:"check-item "+(e.node?"success":"error"),children:[e.node?(0,n.jsx)(S.CMH,{className:"checkmark"}):(0,n.jsx)(S.QCr,{className:"x-icon"})," Node.js",(0,n.jsx)("p",{className:"isntalled-p",children:"NodeJS version 20 or higher"})]}),(0,n.jsxs)("li",{className:"check-item "+(e.nginx?"success":"error"),children:[e.node?(0,n.jsx)(S.CMH,{className:"checkmark"}):(0,n.jsx)(S.QCr,{className:"x-icon"})," Nginx",(0,n.jsx)("p",{className:"isntalled-p",children:"Nginx 1.26 or higer"})]}),(0,n.jsxs)("li",{className:"check-item "+(e.redis?"success":"error"),children:[e.node?(0,n.jsx)(S.CMH,{className:"checkmark"}):(0,n.jsx)(S.QCr,{className:"x-icon"})," Redis",(0,n.jsx)("p",{className:"isntalled-p",children:"Redis 8.0 or higher"})]}),(0,n.jsxs)("li",{className:"check-item "+(e.mysql?"success":"error"),children:[e.node?(0,n.jsx)(S.CMH,{className:"checkmark"}):(0,n.jsx)(S.QCr,{className:"x-icon"})," MySQL",(0,n.jsx)("p",{className:"isntalled-p",children:"MySQL 9.0.0 or higer || MariaDB 11.6.2 or higher"})]})]}),(0,n.jsxs)("div",{className:"btn-install-container",children:[a>1&&(0,n.jsx)("button",{className:"btn-next",onClick:()=>{a>1&&i(a-1)},children:"Back"}),a<4&&(0,n.jsx)("button",{className:"btn-next",onClick:()=>{a<4&&i(a+1)},children:"Next"})]})]})})})};var k=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};i.A.defaults.withCredentials=!0,i.A.defaults.baseURL="http://localhost:3000";const E="Rocky-Todos",T=()=>{const e=localStorage.getItem(`${E}-session-csrfToken`);e&&(i.A.defaults.headers["X-CSRF-Token"]=e)};var A=s(9418),P=s(2832);const I=({children:e,delay:o=0,className:s="",flexDirection:r="row",displayOpt:a="block"})=>{const[i,c]=(0,t.useState)(!1),l=(0,t.useRef)(null);return(0,t.useEffect)((()=>{const e=new IntersectionObserver((o=>{o.forEach((o=>{o.isIntersecting&&!i&&(c(!0),e.unobserve(o.target))}))}),{threshold:.1,rootMargin:"0px 0px -110px 0px"});return l.current&&e.observe(l.current),()=>{l.current&&e.unobserve(l.current)}}),[i]),(0,n.jsx)(P.P.div,{ref:l,className:`${s} animated-container`,initial:{opacity:0,y:30},animate:{opacity:i?1:0,y:i?0:30},transition:{duration:.6,delay:i?o/1e3:0,ease:[.65,0,.35,1]},style:{position:"relative",transformOrigin:"center center",width:"100%",display:"flex"===a?"flex":"block",flexDirection:"flex"===a?r:void 0},children:e})},D=({children:e,delay:o=0})=>{const[s,r]=(0,t.useState)(!1),a=(0,t.useRef)(null);return(0,t.useEffect)((()=>{const e=new IntersectionObserver((o=>{o.forEach((o=>{o.isIntersecting&&!s&&(r(!0),e.unobserve(o.target))}))}),{threshold:.1,rootMargin:"0px 0px -120px 0px"});return a.current&&e.observe(a.current),()=>{a.current&&e.unobserve(a.current)}}),[s]),(0,n.jsxs)(P.P.div,{ref:a,initial:{opacity:0,y:20,scale:.95},animate:{opacity:s?1:0,y:s?0:20,scale:s?1:.95},transition:{duration:.6,delay:s?o/1e3:0,ease:[.68,-.55,.27,1.55]},style:{position:"relative",zIndex:1001,willChange:"transform, opacity, scale"},className:"loaded-animation",children:[e," "]})},M=({children:e,delay:o=0})=>{const[s,r]=(0,t.useState)(!1),a=(0,t.useRef)(null);return(0,t.useEffect)((()=>{const e=new IntersectionObserver((o=>{o.forEach((o=>{o.isIntersecting&&!s&&(r(!0),e.unobserve(o.target))}))}),{threshold:.1,rootMargin:"0px 0px -120px 0px"});return a.current&&e.observe(a.current),()=>{a.current&&e.unobserve(a.current)}}),[]),(0,n.jsxs)(P.P.div,{ref:a,initial:{opacity:0,x:50},animate:{opacity:s?1:0,x:s?0:50},transition:{duration:.6,delay:s?o/1e3:0,ease:[.68,-.55,.27,1.55]},className:"loaded-animation",style:{position:"relative",zIndex:1001,willChange:"transform, opacity"},children:[e," "]})};var L=s(550),z=s(9879),O=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};const q=()=>{const[e,o]=(0,t.useState)({email:"",password:""}),[s,r]=(0,t.useState)(!1),c=(0,a.Zp)(),l=s=>{o(Object.assign(Object.assign({},e),{[s.target.name]:s.target.value.trim()}))};return(0,n.jsx)("div",{className:"login-wrapper",children:(0,n.jsx)(I,{children:(0,n.jsx)("div",{className:"login",children:(0,n.jsxs)("form",{onSubmit:o=>O(void 0,void 0,void 0,(function*(){var s;if(o.preventDefault(),r(!0),(e=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e.email)?!(e.password.length<6&&(L.oR.error("Password must be at least 6 characters."),1)):(L.oR.error("Invalid email format."),!1))(e))try{console.log("Attempting to log in with inputs:",e.email);const o=yield(s=e,k(void 0,void 0,void 0,(function*(){var e;try{if((null==s?void 0:s.email)&&(null==s?void 0:s.password)){console.log("Login request data:",s);const e=yield i.A.post("/api/login",s,{withCredentials:!0,headers:{Authorization:"Bearer EwaM9XH+LDjzTbqCidsnMpxZZJ4h8p1aDosyReqTI2LzV+TityAx4PM2oyuk4DMa"}});if(console.log("Response Headers:",e.headers),200===e.status){const o=e.headers["x-csrf-token"]||e.headers["X-CSRF-Token"];if(console.log("Extracted CSRF Token:",o),!o)throw new Error("CSRF token missing in response");const s=`${E}-session-csrfToken`;console.log("Attempting to save CSRF token in localStorage...");try{localStorage.setItem(s,o);const e=localStorage.getItem(s);e===o?console.log(`CSRF token successfully saved. Key: "${s}", Value: "${e}"`):console.error(`Failed to verify saved CSRF token. Key: "${s}", Retrieved Value: "${e}"`)}catch(e){console.error(`Error while saving CSRF token to localStorage. Key: "${s}", Error:`,e)}T(),console.log("Login successful:",e.data);const{username:n,email:t,gravatarUrl:r}=e.data;return localStorage.setItem("user",JSON.stringify({username:n,email:t,gravatarUrl:r})),e.data}if(401===e.status)return console.log("Login failed: Unauthorized access"),{message:"Login failed: Invalid credentials"}}throw new Error("Invalid credentials")}catch(o){if(i.A.isAxiosError(o)&&401===(null===(e=o.response)||void 0===e?void 0:e.status))return console.log("Login failed: Unauthorized access"),{message:"Login failed: Invalid credentials"};throw console.error("Error during login:",o),new Error("Login failed")}})));console.log("Login response:",o);const n=A.A.sanitize((null==o?void 0:o.message)||"");if("Login successful"===o.message){setTimeout((()=>{c("/"),L.oR.success("Logged in successfully!",{})}),100)}else L.oR.error(n||"Invalid credentials.")}catch(e){console.error("Error logging in:",e),L.oR.error("Login failed. Ensure CSRF token is received.")}finally{r(!1)}else r(!1)})),children:[(0,n.jsx)(D,{delay:200,children:(0,n.jsx)("h1",{className:"text-login",children:"Login"})}),(0,n.jsxs)("div",{className:"input-wrapper",children:[(0,n.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:e.email,onChange:l,required:!0,className:"login-input"}),(0,n.jsx)(z.mm2,{className:"input-icon"})]}),(0,n.jsx)(M,{delay:550,children:(0,n.jsxs)("div",{className:"input-wrapper",children:[(0,n.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:e.password,onChange:l,required:!0,className:"login-input"}),(0,n.jsx)(z.nMq,{className:"input-icon"})]})}),(0,n.jsx)(D,{delay:700,children:(0,n.jsx)("button",{type:"submit",className:"loginb-btn",disabled:s,children:"Log In"})}),(0,n.jsx)(D,{delay:900,children:(0,n.jsx)("a",{className:"forgot-password-text",href:"/forgot-password",children:"Forgot password?"})})]})})})})};var F=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};i.A.defaults.withCredentials=!0,i.A.defaults.baseURL="http://localhost:3000";const $="api",U="EwaM9XH+LDjzTbqCidsnMpxZZJ4h8p1aDosyReqTI2LzV+TityAx4PM2oyuk4DMa",Z=()=>localStorage.getItem("Rocky-Todos-session-csrfToken"),B=()=>F(void 0,void 0,void 0,(function*(){try{const e=yield i.A.get("/api/todos",{withCredentials:!0,headers:{Authorization:`Bearer ${U}`}});return Array.isArray(e.data)?e.data:(console.error("Response is not an array:",e.data),[])}catch(e){return console.error("Error fetching todos:",e),[]}})),X=({children:e,delay:o=0})=>{const[s,r]=(0,t.useState)(!1),a=(0,t.useRef)(null);return(0,t.useEffect)((()=>{const e=new IntersectionObserver((o=>{o.forEach((o=>{o.isIntersecting&&!s&&(r(!0),e.unobserve(o.target))}))}),{threshold:.1,rootMargin:"0px 0px -120px 0px"});return a.current&&e.observe(a.current),()=>{a.current&&e.unobserve(a.current)}}),[]),(0,n.jsx)(P.P.div,{ref:a,initial:{opacity:0,x:-50},animate:{opacity:s?1:0,x:s?0:-50},transition:{duration:.6,delay:s?o/1e3:0,ease:[.68,-.55,.27,1.55]},className:"loaded-animation",style:{position:"relative",zIndex:1001,willChange:"transform, opacity"},children:e})},H=({todo:e})=>{const o=(0,a.Zp)(),s=new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(e.dueDate));return(0,n.jsxs)("div",{className:"todo-item",children:[(0,n.jsx)(D,{delay:100,children:(0,n.jsx)("h3",{className:"todo-item-h3",children:e.name})}),(0,n.jsx)(X,{delay:200,children:(0,n.jsx)("p",{className:"todo-item-p1",children:e.description})}),(0,n.jsx)(X,{delay:300,children:(0,n.jsxs)("p",{className:"todo-item-p2",children:["Due: ",s]})}),(0,n.jsxs)(I,{flexDirection:"column",displayOpt:"flex",children:[(0,n.jsx)("a",{href:e.repoUrl,target:"_blank",rel:"noopener noreferrer",className:"todo-item-p3",children:"Repo"}),(0,n.jsx)("button",{onClick:()=>o(`/todos/edit/${e.todoId}`),className:"todo-item-btn",children:"Edit"})]})]})};var V=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};h();var J=s(6250),_=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};const Q="Rocky-Todos";var K=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};const Y=()=>{const e=(0,a.Zp)();return(0,n.jsx)("button",{onClick:()=>K(void 0,void 0,void 0,(function*(){try{yield _(void 0,void 0,void 0,(function*(){try{localStorage.getItem(`${Q}-session-csrfToken`)||console.log("No CSRF token found in localStorage.");const e=[];Object.keys(localStorage).forEach((o=>{if(o.includes(`${Q}-session-csrfToken`)){const s=localStorage.getItem(o);s&&e.push(s)}})),console.log("Sending CSRF tokens in logout request:",e),"Logged out successfully"===(yield i.A.post("/api/logout",{csrfTokens:e},{withCredentials:!0,headers:{Authorization:"Bearer EwaM9XH+LDjzTbqCidsnMpxZZJ4h8p1aDosyReqTI2LzV+TityAx4PM2oyuk4DMa"}})).data.message&&(localStorage.removeItem(`${Q}-session-jwtToken`),localStorage.removeItem(`${Q}-session-csrfToken`),localStorage.removeItem(`${Q}-session-userId`),localStorage.removeItem(`${Q}-session-role`),sessionStorage.removeItem(`${Q}-session-jwtToken`),sessionStorage.removeItem(`${Q}-session-csrfToken`),sessionStorage.removeItem(`${Q}-session-userId`),sessionStorage.removeItem(`${Q}-session-role`),document.cookie="XSRF-TOKEN=; Max-Age=0",document.cookie="token=; Max-Age=0",document.cookie="isLoggedOut=true; path=/; max-age=3600",console.log("Application session has been cleared."))}catch(e){console.error("Error during logout:",e)}})),e("/login")}catch(e){console.error("Error during logout:",e)}})),className:"logout-button",children:"Logout"})};var G=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};const W=()=>{const[e,o]=(0,t.useState)(null),s=(0,a.Zp)();(0,t.useEffect)((()=>{G(void 0,void 0,void 0,(function*(){const e=yield V(void 0,void 0,void 0,(function*(){try{const e=yield i.A.get("/api/login",{withCredentials:!0,headers:{Authorization:"Bearer EwaM9XH+LDjzTbqCidsnMpxZZJ4h8p1aDosyReqTI2LzV+TityAx4PM2oyuk4DMa"}});return e.data.isLoggedOutOrNeverLoggedIn?(console.log("User is not logged in"),null):e.data}catch(e){return i.A.isAxiosError(e)?e.response?(console.error("Error response:",e.response.data),console.error("Error status:",e.response.status),console.error("Error headers:",e.response.headers)):e.request?console.error("Error request:",e.request):console.error("Error message:",e.message):console.error("Unexpected error:",e),null}}));e&&o(e)}))}),[]);return(0,n.jsxs)("nav",{className:"main-navbar",children:[(0,n.jsxs)("div",{className:"left-buttons",children:[(0,n.jsx)(Y,{}),(0,n.jsx)("button",{className:"admin-button",onClick:()=>{s("/admin")},children:(0,n.jsx)("span",{className:"admin-icon",children:(0,n.jsx)(J.B60,{})})})]}),e?(0,n.jsxs)("div",{className:"user-info-container",children:[(0,n.jsxs)("span",{className:"user-info",children:[(0,n.jsx)("span",{className:"username",children:e.username}),(0,n.jsx)("span",{className:"email",children:e.email})]}),(0,n.jsx)("img",{className:"gravatar",src:e.gravatarUrl,alt:"User's Gravatar"})]}):(0,n.jsx)("span",{className:"not-logged-in",children:"Not logged in"})]})};var ee=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};const oe=()=>{const[e,o]=(0,t.useState)([]),s=(0,a.Zp)();return(0,t.useEffect)((()=>{ee(void 0,void 0,void 0,(function*(){const e=yield B();o(e)}))}),[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(W,{}),(0,n.jsxs)("div",{className:"todos",children:[(0,n.jsx)(I,{children:(0,n.jsx)("h1",{className:"todo-list-h1",children:"Todo List"})}),0===e.length&&(0,n.jsx)("p",{className:"todo-list-p1",children:"No todos found, please add some!"}),(0,n.jsx)("button",{onClick:()=>s("/todos/create"),className:"todo-list-btn",children:"Create Todo"}),(0,n.jsx)(I,{children:(0,n.jsx)("div",{className:"todo-list",children:e.map((e=>(0,n.jsx)(H,{todo:e},e.todoId)))})})]})]})};var se=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};const ne=()=>{const e=(0,a.Zp)(),[o,s]=(0,t.useState)({name:"",description:"",dueDate:"",repoUrl:""}),[r,c]=(0,t.useState)(null),l=e=>{s(Object.assign(Object.assign({},o),{[e.target.name]:e.target.value}))};return(0,n.jsxs)("div",{className:"todo-create",children:[(0,n.jsx)("h1",{className:"create-h1",children:"Create Todo"}),r&&(0,n.jsx)("p",{className:"error",children:r}),(0,n.jsxs)("form",{onSubmit:s=>se(void 0,void 0,void 0,(function*(){s.preventDefault();const n={name:A.A.sanitize(o.name),description:A.A.sanitize(o.description),dueDate:A.A.sanitize(o.dueDate),repoUrl:A.A.sanitize(o.repoUrl)};try{const o=yield(t=n,F(void 0,void 0,void 0,(function*(){try{const e=Z();if(!e)throw new Error("CSRF token is missing");return(yield i.A.post(`${$}/todos`,t,{withCredentials:!0,headers:{Authorization:"Bearer EwaM9XH+LDjzTbqCidsnMpxZZJ4h8p1aDosyReqTI2LzV+TityAx4PM2oyuk4DMa","X-CSRF-Token":e}})).data}catch(e){throw console.error("Error creating todo:",e),e}})));console.log("Todo created:",o),e("/"),L.oR.success("Todo successfully created!")}catch(e){L.oR.error("Failed to create todo, all fields are required"),console.error("Failed to create todo:",e)}var t})),children:[(0,n.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:o.name,onChange:l,className:"todo-create-input"}),(0,n.jsx)("input",{type:"text",name:"description",placeholder:"Description",value:o.description,onChange:l,className:"todo-create-input"}),(0,n.jsx)("input",{type:"date",name:"dueDate",value:o.dueDate,onChange:l,className:"todo-create-input"}),(0,n.jsx)("input",{type:"url",name:"repoUrl",placeholder:"Repo URL",value:o.repoUrl,onChange:l,className:"todo-create-input"}),(0,n.jsx)("button",{type:"submit",className:"create-btn",children:"Create Todo"})]})]})},te=({isOpen:e,onClose:o,onConfirm:s,message:t})=>e?(0,n.jsx)("div",{className:"modal-overlay",children:(0,n.jsxs)("div",{className:"modal-container",children:[(0,n.jsx)("h2",{children:t}),(0,n.jsxs)("div",{className:"modal-actions",children:[(0,n.jsx)("button",{className:"modal-button",onClick:s,children:"Yes, Delete"}),(0,n.jsx)("button",{className:"modal-button",onClick:o,children:"Cancel"})]})]})}):null;var re=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};const ae=()=>{const[e,o]=(0,t.useState)({name:"",description:"",dueDate:"",repoUrl:""}),[s,r]=(0,t.useState)(null),c=(0,a.Zp)(),[l,d]=(0,t.useState)(!1),{id:u}=(0,a.g)();(0,t.useEffect)((()=>{re(void 0,void 0,void 0,(function*(){if(u)try{const e=(yield B()).find((e=>e.todoId===u));e?o({name:e.name,description:e.description,dueDate:new Date(e.dueDate).toISOString().slice(0,10),repoUrl:e.repoUrl}):(console.error("Todo not found"),L.oR.error("Todo not found!"))}catch(e){console.error("Error fetching todo details:",e),L.oR.error("Error fetching todoId! Check console for more details")}else console.error("Todo ID is missing")}))}),[u]);const h=e=>{const{name:s,value:n}=e.target;o((e=>Object.assign(Object.assign({},e),{[s]:n})))},m=()=>re(void 0,void 0,void 0,(function*(){var e;if(u)try{yield(e=u,F(void 0,void 0,void 0,(function*(){try{const o=Z();if(!o)throw new Error("CSRF token is missing");const s=yield i.A.delete(`${$}/todos/${e}`,{withCredentials:!0,headers:{Authorization:`Bearer ${U}`,"X-CSRF-Token":o}});return console.log("Response from delete:",s),s.data}catch(e){throw console.error("Error deleting todo:",e),e}}))),L.oR.success("Todo deleted successfully!"),d(!1),c("/")}catch(e){console.error("Error deleting todo:",e),L.oR.error("Failed to delete the todo.")}else L.oR.error("Todo ID is missing.")}));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("form",{onSubmit:o=>re(void 0,void 0,void 0,(function*(){if(o.preventDefault(),!(u&&e.name&&e.description&&e.dueDate&&e.repoUrl))return console.error("Todo ID or data is missing."),void L.oR.warning("Please fill out all fields.");try{yield(s=u,n=e,F(void 0,void 0,void 0,(function*(){try{const e=Z();if(!e)throw new Error("CSRF token is missing");const o=yield i.A.patch(`${$}/todos/${s}`,n,{headers:{"Content-Type":"application/json","X-CSRF-Token":e,Authorization:`Bearer ${U}`}});console.log("Response:",o.data)}catch(e){i.A.isAxiosError(e)?(console.error("AxiosError:",e),console.error("Error response:",e.response),console.error("Error request:",e.request),console.error("Error message:",e.message),console.error("Error config:",e.config)):console.error("Unknown error:",e)}}))),L.oR.success("Todo updated successfully!"),c("/")}catch(e){console.error("Error editing todo:",e),L.oR.error("Failed to update the todo.")}var s,n})),className:"edit-todo",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"edit-todo-h1",children:"Edit Todo"}),(0,n.jsx)("label",{className:"edit-todo-label",children:"Name"}),(0,n.jsx)("input",{type:"text",name:"name",value:e.name,onChange:h,className:"edit-todo-input"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{children:"Description"}),(0,n.jsx)("input",{type:"text",name:"description",value:e.description,onChange:h,className:"edit-todo-input"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{children:"Due Date"}),(0,n.jsx)("input",{type:"date",name:"dueDate",value:e.dueDate,onChange:h,className:"edit-todo-input"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{children:"Repo URL"}),(0,n.jsx)("input",{type:"text",name:"repoUrl",value:e.repoUrl,onChange:h,className:"edit-todo-input"})]}),s&&(0,n.jsx)("div",{className:"error",children:s}),(0,n.jsx)("button",{type:"submit",className:"edit-todo-btn",children:"Update Todo"}),(0,n.jsx)("button",{type:"button",onClick:m,className:"edit-todo-delete",children:"Delete Todo"})]}),(0,n.jsx)(te,{isOpen:l,onClose:()=>{d(!1)},onConfirm:m,message:"Are you sure you want to delete this Todo?"})]})};var ie=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};i.A.defaults.withCredentials=!0,i.A.defaults.baseURL="http://localhost:3000";const ce="Rocky-Todos",le="EwaM9XH+LDjzTbqCidsnMpxZZJ4h8p1aDosyReqTI2LzV+TityAx4PM2oyuk4DMa";var de=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};const ue=()=>{const[e,o]=(0,t.useState)(""),[s,r]=(0,t.useState)(""),[a,c]=(0,t.useState)(""),[l,d]=(0,t.useState)(!1);return(0,n.jsxs)("div",{className:"forgot-password-div",children:[(0,n.jsx)("h2",{className:"forgot-password-h1",children:"Forgot Password"}),(0,n.jsxs)("form",{onSubmit:o=>de(void 0,void 0,void 0,(function*(){o.preventDefault(),c(""),r(""),d(!0);const{sanitized:s,isValid:n}=(e=>{const o=A.A.sanitize(e.trim());return{sanitized:o,isValid:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)}})(e);if(!n)return c("Please enter a valid email address."),L.oR.error("Invalid email address."),void d(!1);try{yield(e=>ie(void 0,void 0,void 0,(function*(){try{const o=yield i.A.post("/api/emails/forgot-password",{email:e},{withCredentials:!0,headers:{Authorization:`Bearer ${le}`}});console.log("Response Headers:",o.headers);const s=o.headers["x-csrf-token"];return s?(localStorage.setItem(`${ce}-password-csrfToken`,s),console.log("CSRF Token stored in localStorage:",s)):console.log("No CSRF token received in response headers"),console.log("Password reset email sent successfully."),"If this email exists, a password reset link has been sent."}catch(e){if(e.response&&404===e.response.status)return console.log("Sending email if present..."),"If this email exists, a password reset link has been sent.";throw console.error("Error sending password reset email:",e),new Error("There was an error sending the password reset email.")}})))(s);L.oR.success("If this email exists, a password reset link has been sent."),r("Check your inbox for further instructions.")}catch(e){console.error("Error sending email:",e),L.oR.error("Failed to send the reset email. Please try again later."),c("There was an issue processing your request. Please try again.")}finally{d(!1)}})),children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",className:"forgot-password-email",children:"Email"}),(0,n.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>{o(e.target.value)},required:!0,className:"forgot-password-email-input",placeholder:"Enter your email","aria-describedby":"emailHelp"})]}),(0,n.jsx)("button",{type:"submit",className:"forgot-password-submit",disabled:l,children:l?"Sending...":"Send Password Reset Email"})]}),s&&(0,n.jsx)("p",{style:{color:"green"},"aria-live":"polite",children:A.A.sanitize(s)}),a&&(0,n.jsx)("p",{style:{color:"red"},"aria-live":"assertive",children:A.A.sanitize(a)})]})};var he=s(7065),me=s.n(he),pe=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};const ve=()=>{const[e,o]=(0,t.useState)(""),[s,r]=(0,t.useState)(""),[c,l]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(!1),p=(0,a.zy)(),v=(0,a.Zp)(),g=new URLSearchParams(p.search).get("token");(0,t.useEffect)((()=>{g||L.oR.error("Invalid or missing token")}),[g]);const f=e=>A.A.sanitize(e);return(0,n.jsxs)("div",{className:"reset-password-container",children:[(0,n.jsx)("h2",{className:"reset-password-h1",children:"Reset Your Password"}),c&&(0,n.jsx)("p",{style:{color:"red"},children:A.A.sanitize(c)}),d&&(0,n.jsx)("p",{style:{color:"green"},children:A.A.sanitize(d)}),(0,n.jsxs)("form",{onSubmit:o=>pe(void 0,void 0,void 0,(function*(){var n,t;o.preventDefault(),l(""),u("");const r=f(e),a=f(s);if(r.length<5)return L.oR.error("Password must be at least 5 characters long."),void l("Password must be at least 5 characters long.");if(c=r,!(me()(c).score>=3))return L.oR.error("Password is too weak. Please choose a stronger password."),void l("Password is too weak. Please choose a stronger password.");var c;if(r!==a)return L.oR.error("Passwords do not match."),void l("Passwords do not match.");if(g){m(!0);try{const e=yield((e,o)=>ie(void 0,void 0,void 0,(function*(){try{const s=localStorage.getItem(`${ce}-password-csrfToken`);if(!s)throw new Error("CSRF token is missing");console.log("Sending request with CSRF Token:",s);const n=yield i.A.post("/api/emails/reset-password",{token:e,newPassword:o},{withCredentials:!0,headers:{Authorization:`Bearer ${le}`,"X-CSRF-Token":s,"Content-Type":"application/json"}});return console.log("Response Data:",n.data),n.data}catch(e){throw console.error("Error resetting password:",e),e}})))(g,r);L.oR.success(e.message||"Password reset successfully!"),u("Password reset successfully! Redirecting to login..."),v("/login")}catch(e){console.error("Error details:",e),L.oR.error((null===(t=null===(n=e.response)||void 0===n?void 0:n.data)||void 0===t?void 0:t.error)||"Failed to reset password. Please try again."),l("Failed to reset password. Please try again later.")}finally{m(!1)}}else l("Invalid token, please try again.")})),children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"new-password",children:"New Password"}),(0,n.jsx)("input",{type:"password",id:"new-password",value:e,onChange:e=>o(e.target.value),required:!0,className:"reset-password-input"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"confirm-password",children:"Confirm Password"}),(0,n.jsx)("input",{type:"password",id:"confirm-password",value:s,onChange:e=>r(e.target.value),required:!0,className:"reset-password-input"})]}),(0,n.jsx)("button",{type:"submit",disabled:h,className:"reset-password-btn",children:h?"Resetting...":"Reset Password"})]})]})},ge={ADMIN:"admin",USER:"user"},fe=ge.USER,xe={main:[{path:"/",component:oe,protected:!0,requiredRole:ge.USER,globalToastMessages:!0,exact:!0},{path:"/forbidden",component:()=>(0,n.jsx)("div",{className:"forbidden-container",children:(0,n.jsxs)("div",{className:"forbidden-content",children:[(0,n.jsx)("img",{src:"https://source.unsplash.com/1600x900/?warning,forbidden",alt:"Forbidden",className:"forbidden-image"}),(0,n.jsxs)("div",{className:"message",children:[(0,n.jsx)(S.BS8,{className:"warning-icon"}),(0,n.jsx)("h2",{children:"403 Forbidden"}),(0,n.jsx)("p",{children:"You do not have permission to access this page."})]})]})}),protected:!0,globalToastMessages:!0,exact:!0},{path:"/todos/create",component:ne,globalToastMessages:!0,protected:!0},{path:"/login",component:q,protected:!1,globalToastMessages:!0},{path:"/install",component:R,protected:!1,globalToastMessages:!0},{path:"/todos/edit/:id",component:ae,protected:!0,globalToastMessages:!0},{path:"/forgot-password",component:ue,protected:!1,globalToastMessages:!0},{path:"/reset-password",component:ve,protected:!1,globalToastMessages:!0}].map((e=>Object.assign(Object.assign({},e),{requiredRole:e.requiredRole||fe})))};var ye=s(5189),je=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};const we=()=>{const{colors:e,handleSaveColor:o,handleResetColors:s}=(()=>{const e=(0,t.useContext)(N);if(!e)throw new Error("useColors must be used within a ColorProvider");return e})(),[r,a]=(0,t.useState)(null),[i,c]=(0,t.useState)(""),[l,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)("");return(0,t.useEffect)((()=>{const e=e=>{var o;r&&!(null===(o=document.getElementById("color-picker"))||void 0===o?void 0:o.contains(e.target))&&d(!1)};return l&&document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[l,r]),e?(0,n.jsxs)("div",{className:"color-settings",children:[(0,n.jsx)("h2",{children:"Color Settings"}),(0,n.jsx)("div",{className:"colors-list",children:Object.entries(e).map((([o,s])=>(0,n.jsxs)("div",{className:"color-item",children:[(0,n.jsxs)("span",{children:[o,":"]}),(0,n.jsx)("span",{className:"color-box",style:{backgroundColor:s}}),(0,n.jsx)("button",{className:"edit-btn",onClick:()=>(o=>{a(o),c(e[o]||""),h(e[o]||""),d(!0)})(o),children:"Edit"})]},o)))}),r&&l&&(0,n.jsxs)("div",{className:"edit-section",id:"color-picker",children:[(0,n.jsxs)("h3",{children:["Edit ",r]}),(0,n.jsx)(ye.xk,{color:i,onChange:e=>{c(e.hex),h(e.hex)}}),(0,n.jsx)("button",{className:"save-btn",onClick:()=>je(void 0,void 0,void 0,(function*(){r&&i&&(yield o(r,i),a(null),c(""),d(!1))})),children:"Save"})]}),(0,n.jsxs)("div",{className:"edit-section",children:[(0,n.jsx)("button",{className:"save-btn",onClick:()=>je(void 0,void 0,void 0,(function*(){if(e)try{for(const s in e)if(e.hasOwnProperty(s)){const n=e[s];yield o(s,n)}console.log("All colors saved!")}catch(e){console.error("Error saving all colors:",e)}else console.error("No colors available to save")})),children:"Save All"}),(0,n.jsx)("button",{className:"reset-btn",onClick:()=>je(void 0,void 0,void 0,(function*(){yield s()})),children:"Reset All"})]})]}):(0,n.jsx)("div",{children:"Loading colors..."})},be=()=>{const[e,o]=(0,t.useState)(!1),s=(0,a.zy)(),r=e=>s.pathname===e?"active":"";return(0,n.jsxs)("div",{className:"admin-page",children:[(0,n.jsx)("button",{className:"admin-page-sidebar-button",onClick:()=>{o(!e)},style:{display:e?"none":"block"},children:"☰"}),(0,n.jsxs)("aside",{className:"admin-page-sidebar "+(e?"open":""),children:[(0,n.jsx)("div",{className:"admin-page-header",children:(0,n.jsx)("h1",{children:"Rocky-Todos"})}),(0,n.jsxs)("section",{className:"sidebar-section",children:[(0,n.jsx)("h2",{children:"Overview"}),(0,n.jsx)("nav",{className:"admin-page-nav-menu",children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsxs)("a",{href:"/admin/todos",className:`admin-page-a ${r("/admin/todos")}`,children:[(0,n.jsx)(S.w8j,{})," Todos"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("a",{href:"/admin/users",className:`admin-page-a ${r("/admin/users")}`,children:[(0,n.jsx)(S.x$1,{})," Users"]})})]})})]}),(0,n.jsxs)("section",{className:"sidebar-section",children:[(0,n.jsx)("h2",{children:"Edit"}),(0,n.jsx)("nav",{className:"admin-page-nav-menu",children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsxs)("a",{href:"/admin/users",className:`admin-page-a ${r("/admin/edit/users")}`,children:[(0,n.jsx)(S.xvZ,{})," Users"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("a",{href:"/admin/todos",className:`admin-page-a ${r("/admin/edit/todos")}`,children:[(0,n.jsx)(S.w8j,{})," Todos"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("a",{href:"/admin/assignments",className:`admin-page-a ${r("/admin/assignments")}`,children:[(0,n.jsx)(S.umw,{})," Assignments"]})})]})})]}),(0,n.jsxs)("section",{className:"sidebar-section",children:[(0,n.jsx)("h2",{children:"Customize"}),(0,n.jsx)("nav",{className:"admin-page-nav-menu",children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsxs)("a",{href:"/admin/colors",className:`admin-page-a ${r("/admin/colors")}`,children:[(0,n.jsx)(S.lV_,{})," Colors"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("a",{href:"/admin/elements",className:`admin-page-a ${r("/admin/elements")}`,children:[(0,n.jsx)(S.Pcn,{})," Elements"]})})]})})]})]}),(0,n.jsx)("main",{className:"admin-page-content",children:(0,n.jsx)(a.sv,{})})]})};var Ne=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};const Ce=ge.ADMIN,Se={main:[{path:"/admin",component:be,protected:!0,exact:!0,protectedRole:ge.ADMIN,children:[{path:"colors",component:we,protected:!0,protectedRole:ge.ADMIN},{path:"users",component:we,protected:!0,protectedRole:ge.ADMIN},{path:"todos",component:()=>{const[e,o]=(0,t.useState)([]);(0,a.Zp)();return(0,t.useEffect)((()=>{Ne(void 0,void 0,void 0,(function*(){const e=yield B();o(e)}))}),[]),(0,n.jsx)("div",{className:"todos",children:(0,n.jsx)(I,{children:(0,n.jsx)("div",{className:"todo-list",children:e.map((e=>(0,n.jsx)(H,{todo:e},e.todoId)))})})})},protected:!0,protectedRole:ge.ADMIN}]}].map((e=>Object.assign(Object.assign({},e),{requiredRole:e.protectedRole||Ce})))};var Re=function(e,o,s,n){return new(s||(s=Promise))((function(t,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(e){e(o)}))).then(a,i)}c((n=n.apply(e,o||[])).next())}))};const ke=()=>{const[e,o]=(0,t.useState)(!1),[s,r]=(0,t.useState)(!0);(0,t.useEffect)((()=>{Re(void 0,void 0,void 0,(function*(){try{const e=yield w(),s=document.createElement("style");s.innerHTML=`:root {\n                ${Object.entries(e).map((([e,o])=>`${e}: ${o};`)).join(" ")}\n            }`,document.head.appendChild(s),o(!0)}catch(e){console.error("Error preloading colors:",e),o(!0)}}))}),[]),(0,t.useEffect)((()=>{if(e){const e=setTimeout((()=>r(!1)),500);return()=>clearTimeout(e)}}),[e]);const i=e=>e.map((e=>{const{path:o,component:s,protected:t,requiredRole:r,children:c}=e;return t?(0,n.jsx)(a.qh,{path:o,element:(0,n.jsx)(g,{element:(0,n.jsx)(s,{}),requiredRole:r}),children:c&&i(c)},o):(0,n.jsx)(a.qh,{path:o,element:(0,n.jsx)(s,{}),children:c&&i(c)},o)}));return(0,n.jsx)(C,{children:(0,n.jsx)(a.Kd,{children:(0,n.jsx)("div",{className:"app",children:(0,n.jsxs)(a.BV,{children:[i(xe.main),i(Se.main)]})})})})};r.createRoot(document.getElementById("root")).render((0,n.jsxs)(t.StrictMode,{children:[(0,n.jsx)(ke,{}),(0,n.jsx)(L.N9,{autoClose:5e3,position:"top-right",hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}))}},s={};function n(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={id:e,loaded:!1,exports:{}};return o[e](r,r.exports,n),r.loaded=!0,r.exports}n.m=o,e=[],n.O=(o,s,t,r)=>{if(!s){var a=1/0;for(d=0;d<e.length;d++){s=e[d][0],t=e[d][1],r=e[d][2];for(var i=!0,c=0;c<s.length;c++)(!1&r||a>=r)&&Object.keys(n.O).every((e=>n.O[e](s[c])))?s.splice(c--,1):(i=!1,r<a&&(a=r));if(i){e.splice(d--,1);var l=t();void 0!==l&&(o=l)}}return o}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[s,t,r]},n.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return n.d(o,{a:o}),o},n.d=(e,o)=>{for(var s in o)n.o(o,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:o[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={792:0,869:0};n.O.j=o=>0===e[o];var o=(o,s)=>{var t,r,a=s[0],i=s[1],c=s[2],l=0;if(a.some((o=>0!==e[o]))){for(t in i)n.o(i,t)&&(n.m[t]=i[t]);if(c)var d=c(n)}for(o&&o(s);l<a.length;l++)r=a[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},s=self.webpackChunkuntitled3=self.webpackChunkuntitled3||[];s.forEach(o.bind(null,0)),s.push=o.bind(null,s.push.bind(s))})();var t=n.O(void 0,[96,869],(()=>n(4064)));t=n.O(t)})();